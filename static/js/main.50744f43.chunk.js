(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{241:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),c=n(53),s=n.n(c),o=n(15),i=n(8),p=n(19),l=n(7),u=n(29),b=n(30),d=n(33),h=n(32),j=n(20),m=n.n(j),f=n(42),O=n(43),x=n.n(O),y="fetch_posts",v="fetch_post",g="create_post",N="delete_post",k="https://reduxblog.herokuapp.com/api",w="?key=dipsapp";function P(){return(P=Object(f.a)(m.a.mark((function t(){var e;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.get("".concat(k,"/posts").concat(w));case 2:return e=t.sent,t.abrupt("return",{type:y,payload:e});case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(){return(S=Object(f.a)(m.a.mark((function t(e,n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.post("".concat(k,"/posts").concat(w),e).then((function(){return n()}));case 2:return r=t.sent,t.abrupt("return",{type:g,payload:r});case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function C(){return(C=Object(f.a)(m.a.mark((function t(e){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.get("".concat(k,"/posts/").concat(e).concat(w));case 2:return n=t.sent,t.abrupt("return",{type:v,payload:n});case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function T(){return(T=Object(f.a)(m.a.mark((function t(e,n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.delete("".concat(k,"/posts/").concat(e).concat(w)).then((function(){return n()}));case 2:return t.sent,t.abrupt("return",{type:N,payload:e});case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var E=n(37),D=n.n(E),F=(n(61),n(3)),A=function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(b.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchposts()}},{key:"renderPosts",value:function(){return D.a.map(this.props.posts,(function(t){return Object(F.jsx)("li",{className:"list-unstyled m-2",children:Object(F.jsx)(p.b,{className:" d-flex ms-5 me-5 justify-content-center btn btn-outline-info btn-lg btn-block",to:"/posts/".concat(t.id),children:t.title})},t.id)}))}},{key:"render",value:function(){return Object(F.jsxs)("div",{className:"container m-5",children:[Object(F.jsx)("div",{className:"d-flex justify-content-end",children:Object(F.jsx)(p.b,{to:"/posts/new",className:"btn btn-pri btn-lg me-5",children:"Add a post"})}),Object(F.jsx)("h3",{style:{display:"flex",justifyContent:"center",marginTop:"20px",marginBottom:"20px"},className:"post",children:"POSTS"}),Object(F.jsx)("ul",{className:"list-group",children:this.renderPosts()})]})}}]),n}(a.a.Component);var _=Object(o.b)((function(t){return{posts:t.posts}}),{fetchposts:function(){return P.apply(this,arguments)}})(A),I=n(107),J=n.n(I),L=n(38),M=n(243),R=n(242),q=function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).onSubmit=function(e){t.props.createPost(e,(function(){t.props.history.push("/")}))},t}return Object(b.a)(n,[{key:"renderField",value:function(t){var e="form-control ".concat(t.meta.touched&&t.meta.error?"border border-danger":"");return Object(F.jsxs)("div",{className:"m-5 container form-group",children:[Object(F.jsx)("h5",{className:"label",children:t.label}),Object(F.jsx)("input",Object(L.a)({className:e,type:"text",placeholder:"ENTER "+t.label},t.input)),Object(F.jsx)("div",{className:"text-danger",children:t.meta.touched?t.meta.error:""})]})}},{key:"render",value:function(){var t=this.props.handleSubmit;return Object(F.jsxs)("form",{onSubmit:t(this.onSubmit),children:[Object(F.jsx)(M.a,{label:"TITLE",name:"title",component:this.renderField}),Object(F.jsx)(M.a,{label:"CATEGORIES",name:"categories",component:this.renderField}),Object(F.jsx)(M.a,{label:"POST'S CONTENT",name:"content",component:this.renderField}),Object(F.jsx)("button",{type:"submit",className:"btn btn-primary  ms-5",children:"Submit"}),Object(F.jsx)(p.b,{to:"/",className:"btn btn-danger ms-3",children:"Cancel"})]})}}]),n}(a.a.Component);var B=Object(R.a)({validate:function(t){var e={};return t.title||(e.title="please enter a title"),t.categories||(e.categories="enter a category"),t.content||(e.content="enter some content"),e},form:"PostsNewForm"})(Object(o.b)(null,{createPost:function(t,e){return S.apply(this,arguments)}})(q)),G=function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).onDeleteClick=function(){var e=t.props.match.params.id;t.props.deletePost(e,(function(){t.props.history.push("/")}))},t}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var t=this;if(!this.props.post){var e=this.props.match.params.id;this.props.fetchPost(e,(function(){t.props.history.push("/")}))}}},{key:"render",value:function(){var t=this.props.post;return t?Object(F.jsxs)("div",{className:"container m-5",children:[Object(F.jsx)(p.b,{to:"/",className:"btn btn-show",children:"Home"}),Object(F.jsx)("button",{className:"d-flex btn btn-del btn-danger",onClick:this.onDeleteClick,children:"Delete Post"}),Object(F.jsx)("h3",{className:"title",children:t.title}),Object(F.jsx)("div",{className:"categories",children:Object(F.jsx)("h6",{children:t.categories})}),Object(F.jsx)("div",{className:"content container",children:Object(F.jsx)("p",{children:t.content})})]}):Object(F.jsx)("div",{children:"Loading..."})}}]),n}(a.a.Component);var H=Object(o.b)((function(t,e){return{post:t.posts[e.match.params.id]}}),{fetchPost:function(t){return C.apply(this,arguments)},deletePost:function(t,e){return T.apply(this,arguments)}})(G),K=n(54),z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case v:return Object(L.a)(Object(L.a)({},t),{},Object(K.a)({},e.payload.data.id,e.payload.data));case y:return D.a.mapKeys(e.payload.data,"id");case N:return D.a.omit(t,e.payload);default:return t}},Q=n(244),U=Object(i.c)({posts:z,form:Q.a}),V=Object(i.a)(J.a)(i.d);s.a.render(Object(F.jsx)(o.a,{store:V(U),children:Object(F.jsx)(p.a,{children:Object(F.jsx)("div",{children:Object(F.jsxs)(l.c,{children:[Object(F.jsx)(l.a,{path:"/posts/new",component:B}),Object(F.jsx)(l.a,{path:"/posts/:id",component:H}),Object(F.jsx)(l.a,{path:"/",component:_})]})})})}),document.querySelector("#root"))},61:function(t,e,n){}},[[241,1,2]]]);
//# sourceMappingURL=main.50744f43.chunk.js.map